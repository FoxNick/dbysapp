                QuietOkHttp.get("https://dbys.vip/ys/gettagid").addParams("pm", ys.getPm() + ys.getDy() + ys.getLx()).addParams("ysid", ys.getId() + jiList.get(playindex).getName()).execute(new StringCallBack() {
                    @Override
                    protected void onSuccess(Call call, String response) {
                        if (!TextUtils.isEmpty(response)) {
                            TimerTask task= new TimerTask() {
                                @Override
                                public void run() {
                                    QuietOkHttp.get("https://mfm.video.qq.com/danmu").addParams("otype", "json").addParams("target_id", response).addParams("timestamp", String.valueOf((p.mDanmakuView.getCurrentTime()/1000))).execute(new StringCallBack() {
                                        @Override
                                        protected void onSuccess(Call call, String response) {
                                            JSONObject jsonObject = JSON.parseObject(response);
                                            JSONArray comments = jsonObject.getJSONArray("comments");
                                            if (comments != null) {
                                                for (int i = 0; i < comments.size(); i++) {
                                                    p.addDanmaku(1, comments.getJSONObject(i).getString("content"), (long) (comments.getJSONObject(i).getInteger("timepoint") * 1000), 16777215, false);
                                                }
                                            }
                                        }
                                        @Override
                                        public void onFailure(Call call, Exception e) {

                                        }
                                    });
                                }
                            };
                            new Timer().schedule(task,30000);
                        }
                    }

                    @Override
                    public void onFailure(Call call, Exception e) {
                    }
                });